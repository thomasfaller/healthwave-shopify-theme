<script>

let currentTab = 0;
let valid = true;

const form = document.querySelector("#garda-registration-form");
const tabs = document.getElementsByClassName("tab");
const inputs = tabs[currentTab].getElementsByTagName("input");
const prevBtn = document.querySelector("#prevBtn");
const nextBtn = document.querySelector("#nextBtn");
const steps = document.getElementsByClassName("step");

showTab(currentTab);

function showTab(tab) {
  tabs[tab].style.display = "block";
  if (tab === 0) {
    prevBtn.style.display = "none";
  } else {
    prevBtn.style.display = "inline";
  }
  if (tab === (tabs.length - 1)) {
    nextBtn.innerHTML = "Submit";
  } else {
    nextBtn.innerHTML = "Next";
  }
  displayStepIncator(tab);
}

function nextPrev(tab) {
  if (tab == 1 && !validateForm()) return false;
  tabs[currentTab].style.display = "none";
  currentTab += tab;
  if (currentTab >= tabs.length) {
    form.submi();
    return false;
  }
  showTab(currentTab);
}

function validateForm() {
  for (let i = 0; i < inputs.length; i++) {
    if (inputs[i].value == "") {
      inputs[i].classList.add("invalid");
      valid = false;
    }
  }
  if (valid) {
    steps[currentTab].classList.add("finish");
  }
  return valid;
}

function displayStepIncator(tab) {
  for (let i = 0; i < steps.length; i++) {
    steps[i].classList.remove("active");
  }
  steps[tab].classList.add("active");
}

</script>